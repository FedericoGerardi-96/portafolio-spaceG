---
import ExperienceTimeline from './ExperienceTimeline.astro';
import TechStack from './tech-stack';

const { experiencias, stackTecnologico } = Astro.props;

// Aquí definimos los datos (esto se ejecuta en build-time)
const skills = [
  { name: 'React', category: 'Frontend' },
  { name: 'Next.js', category: 'Frontend' },
  { name: 'TypeScript', category: 'Frontend' },
  { name: 'Three.js', category: 'Frontend' },
  { name: 'Node.js', category: 'Backend' },
  { name: 'Python', category: 'Backend' },
  { name: 'PostgreSQL', category: 'Backend' },
  { name: 'Docker', category: 'DevOps' },
  { name: 'AWS', category: 'DevOps' },
  { name: 'Figma', category: 'Design' },
];

const stats = [
  { value: '4+', label: 'Años de experiencia' },
  { value: '10+', label: 'Proyectos completados' },
  { value: '100%', label: 'Compromiso' },
];
---

<section id='about' class='about-section relative bg-background/60 px-6 py-16 backdrop-blur-sm'>
  <div class='mx-auto max-w-6xl'>
    {/* Header */}
    <div data-animate class='mb-16 opacity-0' style='animation-delay: 0.1s'>
      <span class='mb-4 inline-block font-mono text-sm text-primary'>
        {'// Sobre mi'}
      </span>
      <h2 class='text-balance text-3xl font-bold text-foreground sm:text-4xl'>Código, diseño y creatividad</h2>
    </div>

    <div class='grid gap-16 lg:grid-cols-2'>
      <div class='flex flex-col gap-4'>
        <p data-animate class='text-pretty leading-relaxed text-muted-foreground opacity-0' style='animation-delay: 0.2s'>
          Desde el inicio de mi formación en Ingeniería de Sistemas en la UAI, me he apasionado por crear interfaces que no solo funcionen bien, sino
          que inspiren.
        </p>
        <p data-animate class='text-pretty leading-relaxed text-muted-foreground opacity-0' style='animation-delay: 0.3s'>
          Mi enfoque está en la mejora continua y la eficiencia en el desarrollo de productos digitales.
        </p>
        <p data-animate class='text-pretty leading-relaxed text-muted-foreground opacity-0' style='animation-delay: 0.3s'>
          Cuento con un sólido background técnico fortalecido por bootcamps avanzados en React y Next.js.
        </p>

        {/* Stats */}
        <div data-animate class='mt-4 grid grid-cols-2 gap-4 opacity-0' style='animation-delay: 0.4s'>
          {
            stats.map((stat) => (
              <div class='rounded-xl border border-border bg-card/50 p-4 backdrop-blur-sm transition-colors duration-300 hover:border-primary/30'>
                <div class='text-2xl font-bold text-primary'>{stat.value}</div>
                <div class='mt-1 text-xs text-muted-foreground'>{stat.label}</div>
              </div>
            ))
          }
        </div>
      </div>

      {/* Skills */}
      <div data-animate class='opacity-0' style='animation-delay: 0.5s'>
        <h3 class='mb-6 font-mono text-sm text-muted-foreground'>Stack tecnológico</h3>
        <ExperienceTimeline experiencias={experiencias} />
      </div>
      {/* Experience timeline */}
    </div>
    <div class='mt-10 w-full'>
      <h3 class='mb-6 font-mono text-sm text-muted-foreground'>Experiencia</h3>
      <TechStack client:only='react' stackTecnologico={stackTecnologico} />
    </div>
  </div>
</section>
